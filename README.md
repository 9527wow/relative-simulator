# 🧨 亲戚应对模拟器 - 春节生存挑战

> iFlow CLI 新春创造营作品 - 使用 iFlow 大模型 API 构建的春节主题互动游戏

## 📖 项目介绍

"亲戚应对模拟器"是一款春节主题的趣味互动应用，帮助用户练习应对春节期间亲戚们的各种"刁难"问题。通过模拟真实的亲戚对话场景，让用户在娱乐中提升应对技巧。

### ✨ 核心功能

- **4种难度等级**：从和蔼的大姨到终极三婶，不同难度的亲戚角色
- **智能对话系统**：基于 iFlow 大模型 API，实现自然流畅的对话体验
- **角色定制 Prompt**：每个角色都有独特的性格和说话风格
- **春节主题界面**：高级红金配色、毛玻璃效果、节日氛围
- **实时对话**：即时的 AI 回复，真实的聊天体验
- **🌙 深色模式**：支持浅色/深色/自动三种主题模式
- **⚙️ 个性化设置**：可自定义动画、音效、对话轮数等

## 🎮 使用方法

### 在线体验

1. 双击打开 `index.html` 文件
2. 选择难度等级（大姨、大姑、二舅、三婶）
3. 开始应对亲戚的刁难问题
4. 在输入框中输入你的应对策略
5. 查看 AI 的犀利回复

### 技术架构

```
亲戚应对模拟器/
├── index.html      # 主页面
├── style.css       # 春节主题样式
├── app.js          # 核心逻辑
├── config.js       # 角色配置
└── README.md       # 说明文档
```

## 🔧 技术实现

### 技术栈

- **前端**：原生 HTML + CSS + JavaScript
- **API**：iFlow 大模型 API (tstars2.0)
- **部署**：静态文件，可直接在浏览器中打开

### API 集成

```javascript
// iFlow API 配置
const API_KEY = 'sk-8a65170a5a3d18e70268b6f9c31a3872';
const API_URL = 'https://apis.iflow.cn/v1/chat/completions';
const MODEL = 'tstars2.0';

// 调用示例
const response = await fetch(API_URL, {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json',
        'Authorization': `Bearer ${API_KEY}`
    },
    body: JSON.stringify({
        model: MODEL,
        messages: messages,
        temperature: 0.8,
        max_tokens: 500
    })
});
```

### 角色系统

每个难度等级都有独特的系统 Prompt：

```javascript
const RELATIVE_CONFIG = {
    easy: {
        name: "和蔼的大姨",
        emoji: "👩",
        systemPrompt: "你是一位和蔼可亲的大姨..."
    },
    medium: {
        name: "犀利的大姑",
        emoji: "👩‍🦳",
        systemPrompt: "你是一位言辞犀利的大姑..."
    },
    // ...
};
```

## 🎨 设计特点

### 视觉设计

- **春节配色**：红色渐变背景 (#E74C3C, #C0392B)
- **节日元素**：灯笼动画 🏮、emoji 表情
- **响应式布局**：支持桌面和移动设备

### 交互设计

- **难度选择卡片**：悬停动画、渐变按钮
- **聊天界面**：消息气泡、滚动优化
- **加载动画**：内联输入提示，不打断对话
- **结果弹窗**：挑战结束后显示统计

### ⚙️ 设置功能

- **主题切换**：浅色/深色/跟随系统
- **动画开关**：可禁用所有动画效果
- **粒子效果**：可开关背景装饰元素
- **音效反馈**：支持添加自定义音效
- **对话轮数**：可自定义最大对话轮数（5/10/15/20/无限）

### 🌙 深色模式

专为夜间使用优化的深色主题：
- 深色背景保护眼睛
- 金色点缀保持节日氛围
- 完美的视觉对比度
- 所有界面元素完美适配

## 🚀 部署说明

### 本地运行

1. 克隆或下载项目
2. 双击 `index.html` 即可在浏览器中打开

### 在线部署

可以部署到以下平台：

- GitHub Pages
- Vercel
- Netlify
- 或任何静态文件托管服务

## 📝 iFlow CLI 功能使用

本项目使用了 iFlow 大模型 API 的核心功能：

- ✅ 文本对话生成 (chat completions)
- ✅ 系统角色设定 (system messages)
- ✅ 多轮对话管理 (message history)
- ✅ 参数调优 (temperature, max_tokens)

## 🎯 创意亮点

1. **角色驱动设计**：每个亲戚都有独特的性格和说话风格
2. **渐进式难度**：从简单到困难，适合不同用户
3. **真实场景模拟**：基于真实春节经历设计问题
4. **即开即用**：无需安装，双击即可运行
5. **春节氛围**：主题设计和视觉效果贴合节日
6. **个性化设置**：丰富的自定义选项
7. **深色模式**：完善的深色主题支持

## 📊 后续优化方向

- [ ] 添加更多亲戚角色
- [ ] 实现对话评分系统
- [ ] 添加应对技巧提示
- [ ] 支持语音输入/输出
- [ ] 添加社交分享功能
- [x] 实现用户数据持久化（已完成）
- [x] 添加深色模式（已完成）
- [x] 个性化设置（已完成）
- [ ] 添加更多主题选择
- [ ] 实现成就系统

## 📄 开源协议

MIT License

## 🙏 致谢

- iFlow 平台提供的强大 API 支持
- 春节创造营活动的组织者
- 所有参与测试的朋友们

---

**作者**：iFlow CLI 用户
**活动**：iFlow 2026 新春创造营
**时间**：2026年1月30日 - 2月10日

**祝大家春节快乐，马年到，一码当先！🐴**
